let n="https://apiskill.pusatbelajarskill.com/api";$(document).ready(function(){console.log("hellos"),$(".btn-edit").click(function(){$("#editName").val($(this).data("name")),$("#Editstatus").val($(this).data("status")),$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#categoryFormEdit").on("submit",function(a){a.preventDefault(),console.log($(this).serialize());let t=$(this).serialize();l("update",t).then(e=>{$("#cardCategory").html(e),s("modal-edit-category","categoryFormEdit")}).catch(e=>{console.log(e)})})})});$("#formAddCategory").on("submit",function(a){a.preventDefault();let t=$(this).serialize();l("add",t).then(e=>{$("#cardCategory").html(e),s("modal-lg","formAddCategory")}).catch(e=>{console.log(e)})});$("#cardCategory").on("click",".btn-delete",function(){console.log("submit barusxx`"),$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#catgeoriDeleteForm").on("submit",function(a){a.preventDefault();let t=$(this).serialize();l("delete",t).then(e=>{$("#cardCategory").html(e),s("modal-delete-category","catgeoriDeleteForm")}).catch(e=>{console.log(e)})})});$("#formLihat").on("submit",function(a){a.preventDefault();let t=$("#slug").val();console.log(t);let e=n+"kelas/list/"+t;$.ajax({type:"GET",url:e,success:function(i){window.location.href=i.redirectTo},error:function(i){}})});function l(a=null,t=null){if(a=="add")return new Promise(function(e,i){$.ajax({url:n+"/categories",type:"POST",data:t,success:function(o){e(o)},error:function(o,c,r){i(r)}})});if(a=="update")return new Promise(function(e,i){$.ajax({url:n+"/categories/update",type:"POST",data:t,success:function(o){e(o)},error:function(o,c,r){i(r)}})});if(a=="delete")return new Promise(function(e,i){$.ajax({url:n+"/categories/delete",type:"POST",data:t,success:function(o){e(o)},error:function(o){i(o)}})})}function s(a,t){$(`#${a}`).modal("hide"),$(`#${t}`)[0].reset()}
