$(document).ready(function(){console.log("hellos"),$(".btn-edit").click(function(){$("#editName").val($(this).data("name")),$("#Editstatus").val($(this).data("status")),$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#categoryFormEdit").on("submit",function(t){t.preventDefault(),console.log($(this).serialize());let a=$(this).serialize();r("update",a).then(e=>{$("#cardCategory").html(e),l("modal-edit-category","categoryFormEdit")}).catch(e=>{console.log(e)})})})});$("#formAddCategory").on("submit",function(t){t.preventDefault();let a=$(this).serialize();r("add",a).then(e=>{$("#cardCategory").html(e),l("modal-lg","formAddCategory")}).catch(e=>{console.log(e)})});$("#cardCategory").on("click",".btn-delete",function(){$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#catgeoriDeleteForm").on("submit",function(t){t.preventDefault();let a=$(this).serialize();r("delete",a).then(e=>{$("#cardCategory").html(e),l("modal-delete-category","catgeoriDeleteForm")}).catch(e=>{console.log(e)})})});function r(t=null,a=null){if(t=="add")return new Promise(function(e,i){$.ajax({url:"http://sekolahskillapi.test/api/categories",type:"POST",data:a,success:function(o){e(o)},error:function(o,s,n){i(n)}})});if(t=="update")return new Promise(function(e,i){$.ajax({url:"http://sekolahskillapi.test/api/categories/update",type:"POST",data:a,success:function(o){e(o)},error:function(o,s,n){i(n)}})});if(t=="delete")return new Promise(function(e,i){$.ajax({url:"http://sekolahskillapi.test/api/categories/delete",type:"POST",data:a,success:function(o){e(o)},error:function(o){i(o)}})})}function l(t,a){$(`#${t}`).modal("hide"),$(`#${a}`)[0].reset()}
