let l="http://sekolahskillapi.test/api",u="http://admin-skill.test";$(document).ready(function(){console.log("hellos"),$(".btn-edit").click(function(){$("#editName").val($(this).data("name")),$("#Editstatus").val($(this).data("status")),$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#categoryFormEdit").on("submit",function(t){t.preventDefault(),console.log($(this).serialize());let a=$(this).serialize();r("update",a).then(e=>{$("#cardCategory").html(e),s("modal-edit-category","categoryFormEdit")}).catch(e=>{console.log(e)})})})});$("#formAddCategory").on("submit",function(t){t.preventDefault();let a=$(this).serialize();r("add",a).then(e=>{$("#cardCategory").html(e),s("modal-lg","formAddCategory")}).catch(e=>{console.log(e)})});$("#cardCategory").on("click",".btn-delete",function(){console.log("submit barusxx`"),$("<input>").attr({type:"hidden",id:"idmapelo",name:"id",value:$(this).data("id"),readonly:!0}).appendTo("form"),$("#catgeoriDeleteForm").on("submit",function(t){t.preventDefault();let a=$(this).serialize();r("delete",a).then(e=>{$("#cardCategory").html(e),s("modal-delete-category","catgeoriDeleteForm")}).catch(e=>{console.log(e)})})});$("#cardCategory").on("submit",".formLihat",function(t){t.preventDefault();let a=$(this).find(".slug").val(),e=`${u}/kelas/list/${a}`;window.location.href=e});function r(t=null,a=null){if(t=="add")return new Promise(function(e,i){$.ajax({url:l+"/categories",type:"POST",data:a,success:function(o){e(o)},error:function(o,d,n){i(n)}})});if(t=="update")return new Promise(function(e,i){$.ajax({url:l+"/categories/update",type:"POST",data:a,success:function(o){e(o)},error:function(o,d,n){i(n)}})});if(t=="delete")return new Promise(function(e,i){$.ajax({url:l+"/categories/delete",type:"POST",data:a,success:function(o){e(o)},error:function(o){i(o)}})})}function s(t,a){$(`#${t}`).modal("hide"),$(`#${a}`)[0].reset()}
